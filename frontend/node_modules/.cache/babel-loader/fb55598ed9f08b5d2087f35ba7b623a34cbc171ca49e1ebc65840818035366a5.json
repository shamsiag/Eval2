{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      errorMessage: \"\"\n    };\n  },\n  methods: {\n    async handleLogin() {\n      this.errorMessage = \"\";\n      try {\n        const response = await fetch(\"http://localhost:8080/api/v1/auth/tokens\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            userName: \"GardenAdmin\",\n            password: \"GardenAdmin\",\n            parameters: {\n              clientId: 11,\n              roleId: 102,\n              organizationId: 0,\n              language: \"en_US\"\n            }\n          })\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.message || \"Erreur d'authentification.\");\n        }\n        const data = await response.json();\n        localStorage.setItem(\"authToken\", data.token);\n        localStorage.setItem(\"refreshToken\", data.refresh_token);\n        localStorage.setItem(\"userId\", data.userId);\n        localStorage.setItem(\"language\", data.language);\n        localStorage.setItem(\"menuTreeId\", data.menuTreeId);\n        this.$router.push(\"/shop\");\n      } catch (error) {\n        console.error(\"Erreur lors de la connexion :\", error);\n        this.errorMessage = error.message || \"Erreur de connexion. Veuillez réessayer plus tard.\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","email","password","errorMessage","methods","handleLogin","response","fetch","method","headers","body","JSON","stringify","userName","parameters","clientId","roleId","organizationId","language","ok","errorData","json","Error","message","localStorage","setItem","token","refresh_token","userId","menuTreeId","$router","push","error","console"],"sources":["/Users/macbookpro/Sham/S6/Eval2-1/frontend/src/views/LoginPage.vue"],"sourcesContent":["<template>\n    <div class=\"login-page\">\n      <div class=\"left-section\">\n        <h1 class=\"login-title\">Connexion</h1>\n  \n        <form @submit.prevent=\"handleLogin\" class=\"login-form\">\n          <div class=\"input-group\">\n            <label for=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              v-model=\"email\"\n              placeholder=\"Entrez votre email\"\n              required\n            />\n          </div>\n  \n          <div class=\"input-group\">\n            <label for=\"password\">Mot de passe</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              v-model=\"password\"\n              placeholder=\"Entrez votre mot de passe\"\n              required\n            />\n          </div>\n  \n          <div class=\"form-footer\">\n            <button type=\"submit\" class=\"login-button\">Se connecter</button>\n            <p class=\"signup-link\">\n              Pas de compte ?\n              <router-link to=\"/signup\">Inscrivez-vous ici</router-link>\n            </p>\n          </div>\n        </form>\n  \n        <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\n      </div>\n  \n      <div class=\"right-section\">\n        <img src=\"@/assets/item/login-illustration.jpg\" alt=\"Illustration\" class=\"login-image\" />\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: \"LoginPage\",\n    data() {\n      return {\n        email: \"\",\n        password: \"\",\n        errorMessage: \"\",\n      };\n    },\n    methods: {\n        async handleLogin() {\n  this.errorMessage = \"\";\n\n  try {\n    const response = await fetch(\"http://localhost:8080/api/v1/auth/tokens\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        userName: \"GardenAdmin\",\n        password: \"GardenAdmin\",\n        parameters: {\n          clientId: 11,\n          roleId: 102,\n          organizationId: 0,\n          language: \"en_US\"\n        }\n      })\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || \"Erreur d'authentification.\");\n    }\n\n    const data = await response.json();\n\n    localStorage.setItem(\"authToken\", data.token);\n    localStorage.setItem(\"refreshToken\", data.refresh_token);\n    localStorage.setItem(\"userId\", data.userId);\n    localStorage.setItem(\"language\", data.language);\n    localStorage.setItem(\"menuTreeId\", data.menuTreeId);\n\n    this.$router.push(\"/shop\");\n    \n  } catch (error) {\n    console.error(\"Erreur lors de la connexion :\", error);\n    this.errorMessage = error.message || \"Erreur de connexion. Veuillez réessayer plus tard.\";\n  }\n}\n\n    },\n  };\n  </script>\n  \n  <style scoped>\n  @font-face {\n    font-family: 'PP Formula';\n    src: url('@/assets/fonts/PPFormula-NarrowRegular.otf') format('opentype');\n    font-weight: medium;\n  }\n  \n  @font-face {\n    font-family: 'DAWBE';\n    src: url('@/assets/fonts/dawbe.otf') format('opentype');\n    font-weight: bold;\n  }\n  \n  .login-page {\n    display: flex;\n    height: 100vh;\n    background-color: #0e100e;\n    color: #f7f7f7;\n    font-family: 'PP Formula', sans-serif;\n  }\n  \n  .left-section {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 60px;\n    text-align: left;\n  }\n  \n  .right-section {\n    flex: 1;\n    background-color: #1e1e1e;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .login-image {\n    max-width: 90%;\n    height: auto;\n    border-radius: 10px;\n  }\n  \n  .login-title {\n    font-size: 56px;\n    font-family: 'DAWBE';\n    margin-bottom: 40px;\n  }\n  \n  .login-form {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n  }\n  \n  .input-group {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .input-group label {\n    margin-bottom: 5px;\n    font-weight: bold;\n  }\n  \n  .input-group input {\n    padding: 10px;\n    border-radius: 5px;\n    border: none;\n    font-size: 1em;\n  }\n  \n  .form-footer {\n    margin-top: 20px;\n  }\n  \n  .login-button {\n    padding: 10px 20px;\n    background-color: #5aaad8;\n    border: none;\n    border-radius: 5px;\n    color: white;\n    font-family: 'PP Formula', sans-serif;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  \n  .login-button:hover {\n    background-color: #3e8cbf;\n  }\n  \n  .signup-link {\n    margin-top: 15px;\n    font-size: 0.9em;\n  }\n  \n  .signup-link a {\n    color: #5aaad8;\n    text-decoration: underline;\n  }\n  \n  .error-message {\n    margin-top: 15px;\n    color: red;\n  }\n  </style>\n  "],"mappings":";AA+CE,eAAe;EACbA,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,WAAWA,CAAA,EAAG;MAC1B,IAAI,CAACF,YAAW,GAAI,EAAE;MAEtB,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMC,KAAK,CAAC,0CAA0C,EAAE;UACvEC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,QAAQ,EAAE,aAAa;YACvBX,QAAQ,EAAE,aAAa;YACvBY,UAAU,EAAE;cACVC,QAAQ,EAAE,EAAE;cACZC,MAAM,EAAE,GAAG;cACXC,cAAc,EAAE,CAAC;cACjBC,QAAQ,EAAE;YACZ;UACF,CAAC;QACH,CAAC,CAAC;QAEF,IAAI,CAACZ,QAAQ,CAACa,EAAE,EAAE;UAChB,MAAMC,SAAQ,GAAI,MAAMd,QAAQ,CAACe,IAAI,CAAC,CAAC;UACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,OAAM,IAAK,4BAA4B,CAAC;QACpE;QAEA,MAAMvB,IAAG,GAAI,MAAMM,QAAQ,CAACe,IAAI,CAAC,CAAC;QAElCG,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEzB,IAAI,CAAC0B,KAAK,CAAC;QAC7CF,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEzB,IAAI,CAAC2B,aAAa,CAAC;QACxDH,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEzB,IAAI,CAAC4B,MAAM,CAAC;QAC3CJ,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEzB,IAAI,CAACkB,QAAQ,CAAC;QAC/CM,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEzB,IAAI,CAAC6B,UAAU,CAAC;QAEnD,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;MAE5B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACrD,IAAI,CAAC7B,YAAW,GAAI6B,KAAK,CAACT,OAAM,IAAK,oDAAoD;MAC3F;IACF;EAEI;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}