{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"SignupPage\",\n  data() {\n    return {\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      errorMessage: \"\"\n    };\n  },\n  methods: {\n    async handleSignup() {\n      this.errorMessage = \"\";\n      try {\n        const payload = {\n          name: `${this.firstname} ${this.lastname}`,\n          email: this.email,\n          client: 1 // Marque comme client\n        };\n        const response = await fetch(\"http://localhost:8888/dolibarr-21.0.0/htdocs/api/index.php/thirdparties\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"DOLAPIKEY\": \"ZxDsSBw0YVfy6vP534M9vSN6kf1Bt60f\"\n          },\n          body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n          const error = await response.json();\n          this.errorMessage = error.error || \"Erreur lors de l'inscription.\";\n          return;\n        }\n        const newClient = await response.json();\n\n        // Stocke les infos\n        localStorage.setItem(\"clientId\", newClient.id);\n        localStorage.setItem(\"clientName\", newClient.name);\n        localStorage.setItem(\"apiKey\", \"ZxDsSBw0YVfy6vP534M9vSN6kf1Bt60f\");\n        localStorage.setItem(\"email\", this.email);\n        this.$router.push(\"/shop\");\n      } catch (error) {\n        console.error(\"Erreur inscription :\", error);\n        this.errorMessage = \"Erreur lors de l'inscription. Veuillez réessayer.\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","firstname","lastname","email","errorMessage","methods","handleSignup","payload","client","response","fetch","method","headers","body","JSON","stringify","ok","error","json","newClient","localStorage","setItem","id","$router","push","console"],"sources":["/Users/macbookpro/Sham/S6/stellarz-web/stellarz-b/stellar-web/src/views/SignupPage.vue"],"sourcesContent":["<template>\n    <div class=\"login-page\">\n      <div class=\"left-section\">\n        <h1 class=\"login-title\">Inscription</h1>\n  \n        <form @submit.prevent=\"handleSignup\" class=\"login-form\">\n          <div class=\"input-group\">\n            <label for=\"firstname\">Prénom</label>\n            <input\n              type=\"text\"\n              id=\"firstname\"\n              v-model=\"firstname\"\n              placeholder=\"Entrez votre prénom\"\n              required\n            />\n          </div>\n  \n          <div class=\"input-group\">\n            <label for=\"lastname\">Nom</label>\n            <input\n              type=\"text\"\n              id=\"lastname\"\n              v-model=\"lastname\"\n              placeholder=\"Entrez votre nom\"\n              required\n            />\n          </div>\n  \n          <div class=\"input-group\">\n            <label for=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              v-model=\"email\"\n              placeholder=\"Entrez votre email\"\n              required\n            />\n          </div>\n  \n          <div class=\"form-footer\">\n            <button type=\"submit\" class=\"login-button\">S'inscrire</button>\n            <p class=\"signup-link\">\n              Déjà un compte ?\n              <router-link to=\"/login\">Connectez-vous ici</router-link>\n            </p>\n          </div>\n        </form>\n  \n        <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\n      </div>\n  \n      <div class=\"right-section\">\n        <img src=\"@/assets/item/login-illustration.jpg\" alt=\"Illustration\" class=\"login-image\" />\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: \"SignupPage\",\n    data() {\n      return {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        errorMessage: \"\",\n      };\n    },\n    methods: {\n      async handleSignup() {\n        this.errorMessage = \"\";\n  \n        try {\n          const payload = {\n            name: `${this.firstname} ${this.lastname}`,\n            email: this.email,\n            client: 1, // Marque comme client\n          };\n  \n          const response = await fetch(\"http://localhost:8888/dolibarr-21.0.0/htdocs/api/index.php/thirdparties\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"DOLAPIKEY\": \"ZxDsSBw0YVfy6vP534M9vSN6kf1Bt60f\",\n            },\n            body: JSON.stringify(payload),\n          });\n  \n          if (!response.ok) {\n            const error = await response.json();\n            this.errorMessage = error.error || \"Erreur lors de l'inscription.\";\n            return;\n          }\n  \n          const newClient = await response.json();\n  \n          // Stocke les infos\n          localStorage.setItem(\"clientId\", newClient.id);\n          localStorage.setItem(\"clientName\", newClient.name);\n          localStorage.setItem(\"apiKey\", \"ZxDsSBw0YVfy6vP534M9vSN6kf1Bt60f\");\n          localStorage.setItem(\"email\", this.email);\n  \n          this.$router.push(\"/shop\");\n        } catch (error) {\n          console.error(\"Erreur inscription :\", error);\n          this.errorMessage = \"Erreur lors de l'inscription. Veuillez réessayer.\";\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  /* Réutilisation des styles de LoginPage.vue */\n  \n  @font-face {\n    font-family: 'PP Formula';\n    src: url('@/assets/fonts/PPFormula-NarrowRegular.otf') format('opentype');\n    font-weight: medium;\n  }\n  \n  @font-face {\n    font-family: 'DAWBE';\n    src: url('@/assets/fonts/dawbe.otf') format('opentype');\n    font-weight: bold;\n  }\n  \n  .login-page {\n    display: flex;\n    height: 100vh;\n    background-color: #0e100e;\n    color: #f7f7f7;\n    font-family: 'PP Formula', sans-serif;\n  }\n  \n  .left-section {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 60px;\n    text-align: left;\n  }\n  \n  .right-section {\n    flex: 1;\n    background-color: #1e1e1e;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .login-image {\n    max-width: 90%;\n    height: auto;\n    border-radius: 10px;\n  }\n  \n  .login-title {\n    font-size: 56px;\n    font-family: 'DAWBE';\n    margin-bottom: 40px;\n  }\n  \n  .login-form {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n  }\n  \n  .input-group {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .input-group label {\n    margin-bottom: 5px;\n    font-weight: bold;\n  }\n  \n  .input-group input {\n    padding: 10px;\n    border-radius: 5px;\n    border: none;\n    font-size: 1em;\n  }\n  \n  .form-footer {\n    margin-top: 20px;\n  }\n  \n  .login-button {\n    padding: 10px 20px;\n    background-color: #5aaad8;\n    border: none;\n    border-radius: 5px;\n    color: white;\n    font-family: 'PP Formula', sans-serif;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  \n  .login-button:hover {\n    background-color: #3e8cbf;\n  }\n  \n  .signup-link {\n    margin-top: 15px;\n    font-size: 0.9em;\n  }\n  \n  .signup-link a {\n    color: #5aaad8;\n    text-decoration: underline;\n  }\n  \n  .error-message {\n    margin-top: 15px;\n    color: red;\n  }\n  </style>\n  "],"mappings":";AA0DE,eAAe;EACbA,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,IAAI,CAACF,YAAW,GAAI,EAAE;MAEtB,IAAI;QACF,MAAMG,OAAM,GAAI;UACdR,IAAI,EAAE,GAAG,IAAI,CAACE,SAAS,IAAI,IAAI,CAACC,QAAQ,EAAE;UAC1CC,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBK,MAAM,EAAE,CAAC,CAAE;QACb,CAAC;QAED,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,yEAAyE,EAAE;UACtGC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClC,WAAW,EAAE;UACf,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,OAAO;QAC9B,CAAC,CAAC;QAEF,IAAI,CAACE,QAAQ,CAACO,EAAE,EAAE;UAChB,MAAMC,KAAI,GAAI,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;UACnC,IAAI,CAACd,YAAW,GAAIa,KAAK,CAACA,KAAI,IAAK,+BAA+B;UAClE;QACF;QAEA,MAAME,SAAQ,GAAI,MAAMV,QAAQ,CAACS,IAAI,CAAC,CAAC;;QAEvC;QACAE,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEF,SAAS,CAACG,EAAE,CAAC;QAC9CF,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEF,SAAS,CAACpB,IAAI,CAAC;QAClDqB,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAE,kCAAkC,CAAC;QAClED,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAClB,KAAK,CAAC;QAEzC,IAAI,CAACoB,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;MAC5B,EAAE,OAAOP,KAAK,EAAE;QACdQ,OAAO,CAACR,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5C,IAAI,CAACb,YAAW,GAAI,mDAAmD;MACzE;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}